<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DarkWeb Matrix — Access Portal</title>
<style>
  :root{--bg:#000;--glow:#00ff7f;--muted:rgba(0,255,127,0.06)}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#000,#020202);color:var(--glow);font-family:Consolas,monaco,monospace;overflow:hidden}
  canvas#matrix{position:fixed;inset:0;z-index:10;pointer-events:none}
  .terminal{
    position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:30;width:880px;max-width:94%;min-height:360px;padding:22px;border-radius:8px;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.45));box-shadow:0 20px 80px rgba(0,0,0,0.7);border:1px solid rgba(0,255,127,0.06);
    backdrop-filter: blur(6px);
  }
  .term-head{display:flex;gap:12px;align-items:center;margin-bottom:12px}
  .dots{display:flex;gap:8px}
  .dot{width:12px;height:12px;border-radius:50%;background:var(--muted);box-shadow:0 0 8px rgba(0,0,0,0.5)}
  .title{flex:1;text-align:center;font-weight:700}
  .screen{background:rgba(0,0,0,0.2);padding:14px;border-radius:6px;border:1px solid rgba(0,255,127,0.03);min-height:200px;line-height:1.5;white-space:pre-wrap}
  .muted{color:rgba(0,255,127,0.6);font-size:13px}
  .big{font-size:14.5px}
  .cta{display:block;margin-top:14px;padding:10px 14px;border-radius:6px;border:1px dashed rgba(0,255,127,0.06);text-align:center;cursor:pointer}
  .cta:hover{background:rgba(0,255,127,0.02)}
  .glitch-layer{position:fixed;inset:0;z-index:50;pointer-events:none;mix-blend-mode:screen;opacity:0;transition:opacity .18s}
  .glitch-layer.show{opacity:1}
  .hint{position:fixed;left:12px;bottom:12px;z-index:60;font-size:13px;color:rgba(0,255,127,0.5)}
  @media (max-width:640px){.terminal{padding:12px}}
</style>
</head>
<body>
<canvas id="matrix"></canvas>
<div class="terminal" id="terminal">
  <div class="term-head">
    <div class="dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
    <div class="title">darknet · matrix gateway</div>
    <div style="width:48px"></div>
  </div>
  <div class="screen" id="screen">
    <div class="muted">[local.host] boot sequence initialized</div>
    <div class="big">> scanning network interfaces...
> interface wlan0 — status: ACTIVE
> ip: 192.168.0.15 • gw: 192.168.0.1</div>

    <div style="height:10px"></div>
    <div class="muted">[probe]</div>
    <div id="probeLog">• discovering hidden nodes</div>

    <div class="cta" id="enterBtn">ENTER THE MATRIX</div>
  </div>
</div>

<div class="glitch-layer" id="glitch"></div>
<div class="hint">Click the <strong>ENTER THE MATRIX</strong> button to continue...</div>

<script>
  // Matrix rain
  const canvas = document.getElementById('matrix');
  const ctx = canvas.getContext('2d');
  let w=0,h=0,cols,drops;
  function fit(){
    w = canvas.width = innerWidth;
    h = canvas.height = innerHeight;
    cols = Math.floor(w/14);
    drops = new Array(cols).fill(1).map(()=>Math.floor(Math.random()*h/14));
  }
  addEventListener('resize', fit); fit();

  function draw(){
    ctx.fillStyle = 'rgba(0,0,0,0.06)';
    ctx.fillRect(0,0,w,h);
    ctx.fillStyle = 'rgba(0,255,127,0.9)';
    ctx.font = '14px monospace';
    for(let i=0;i<cols;i++){
      const ch = Math.random()>0.6 ? String.fromCharCode(0x30A0 + Math.floor(Math.random()*96)) : String.fromCharCode(33 + Math.floor(Math.random()*94));
      ctx.fillText(ch, i*14, drops[i]*14);
      if(drops[i]*14 > h && Math.random()>0.975) drops[i]=0;
      drops[i]++;
    }
    requestAnimationFrame(draw);
  }
  requestAnimationFrame(draw);

  // interactive "enter"
  const enter = document.getElementById('enterBtn');
  const screen = document.getElementById('screen');
  const probeLog = document.getElementById('probeLog');
  const glitch = document.getElementById('glitch');

  function typeLines(lines, el, delay=60, cb){
    let i=0, li=0;
    function step(){
      if(li >= lines.length) { if(cb) cb(); return; }
      const line = lines[li];
      if(i <= line.length){
        el.textContent = el.textContent.replace(/\s*$/, '') + line.charAt(i);
        i++;
        setTimeout(step, delay);
      } else {
        el.textContent += '\n';
        li++; i=0; setTimeout(step, delay*6);
      }
    }
    step();
  }

  enter.addEventListener('click', ()=>{
    glitch.classList.add('show');
    setTimeout(()=>glitch.classList.remove('show'), 220);

    const seq = [
      '• node: shadow-node-11 [latency: 12ms] ✔',
      '• node: blackroad-77 [latency: 48ms] ✔',
      '• node: deepcache [latency: 103ms] ✔',
      '• node: vault.omega [latency: 221ms] ✖ (firewall)\n'
    ];
    probeLog.textContent = '';
    typeLines(seq, probeLog, 28, ()=>{
      showAccess();
    });
  });

  function showAccess(){
    const term = document.getElementById('terminal');
    term.style.transform = 'translate(-50%,-50%) scale(1.02)';

    screen.innerHTML = "<div class='muted'>[gateway]</div><div class='big'>> attempting exploit...</div>";

    setTimeout(()=>{
      screen.innerHTML += "\n\n<span class='muted'>payload delivered</span>\n<span style='display:block;margin-top:10px;font-weight:800;color:var(--glow);font-size:18px'>ACCESS GRANTED</span>";
      glitch.classList.add('show');
      setTimeout(()=>glitch.classList.remove('show'), 450);

      setTimeout(()=>{
        doorway();
      },600);
    },900);
  }

  function doorway(){
    const overlay = document.createElement('div');
    overlay.style.position='fixed';overlay.style.inset=0;overlay.style.zIndex=70;overlay.style.background='linear-gradient(180deg, rgba(0,0,0,0.95), rgba(0,0,0,0.98))';overlay.style.display='flex';overlay.style.alignItems='center';overlay.style.justifyContent='center';overlay.style.flexDirection='column';

    const h = document.createElement('div');
    h.innerHTML = "<div style='font-family:monospace;color:var(--glow);font-size:20px;font-weight:800;margin-bottom:12px'>DARKNET MATRIX</div><div style='color:rgba(0,255,127,0.6);max-width:900px;text-align:center'>You have tunneled into a visualization of hidden nodes and relic caches. Click anywhere to exit.</div>";
    overlay.appendChild(h);

    const grid = document.createElement('div');
    grid.style.display='grid';grid.style.gridTemplateColumns='repeat(6,1fr)';grid.style.gap='12px';grid.style.marginTop='18px';grid.style.width='86%';grid.style.maxWidth='1100px';
    for(let i=0;i<18;i++){
      const node = document.createElement('div');
      node.style.padding='18px';node.style.borderRadius='8px';node.style.background='rgba(0,0,0,0.45)';node.style.border='1px solid rgba(0,255,127,0.04)';node.style.textAlign='center';node.style.cursor='pointer';
      node.innerHTML = `<div style='font-weight:700;color:var(--glow)'>NODE-${(100+i).toString(16).toUpperCase()}</div><div style='color:rgba(0,255,127,0.6);margin-top:6px;font-size:13px'>latency ${(10+i*7)%300}ms</div>`;
      node.onclick = ()=>{
        node.style.transform='scale(1.04)';
        node.style.boxShadow='0 12px 40px rgba(0,255,127,0.06)';
        setTimeout(()=>{ node.style.transform=''; node.style.boxShadow=''; },360);
      };
      grid.appendChild(node);
    }
    overlay.appendChild(grid);

    overlay.addEventListener('click', ()=>{ overlay.remove(); });

    document.body.appendChild(overlay);
  }

  // subtle animated noise on glitch layer using canvas
  (()=>{
    const g = document.getElementById('glitch');
    const gcv = document.createElement('canvas'); gcv.width=innerWidth; gcv.height=innerHeight; gcv.style.width='100%'; gcv.style.height='100%'; gcv.style.position='absolute'; gcv.style.inset=0; gcv.style.zIndex=51; g.appendChild(gcv);
    const gctx = gcv.getContext('2d');
    function gn(){ gcv.width=innerWidth; gcv.height=innerHeight; gctx.clearRect(0,0,gcv.width,gcv.height); gctx.fillStyle='rgba(0,255,127,0.02)';
      for(let i=0;i<200;i++){ if(Math.random()>0.98) gctx.fillRect(Math.random()*gcv.width, Math.random()*gcv.height, 1+Math.random()*6, 1+Math.random()*6); }
      requestAnimationFrame(gn);
    }
    gn();
  })();
</script>
</body>
</html>
